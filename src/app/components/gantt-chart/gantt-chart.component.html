<div class="d-flex flex-row justify-content-end mb-3 p-3">
    <button class="me-2" color="accent" (click)="onClickLockTasks()" mat-stroked-button>{{ isLockTasks ? 'Unlock' : 'Lock' }} Tasks</button>
    <button color="primary" (click)="onClickAddNew(newTask)" mat-raised-button>Add New</button>
</div>
<div #gantt_here class='gantt-chart'></div>

<ng-template #newTask>
    <h4 mat-dialog-title>New Task</h4>
    <mat-dialog-content>
        <form [formGroup]="taskForm" class="w-100">
            <div class="row g-3">
                <div class="col-12">
                    <mat-form-field class="w-100" appearance="fill">
                      <mat-label>Tech</mat-label>
                      <input matInput type="text" formControlName="text">
                    </mat-form-field>
                </div>
                <div class="col-12">
                    <mat-form-field class="w-100" appearance="fill">
                      <mat-label>Description</mat-label>
                      <textarea style="height: 120px;" matInput type="text" formControlName="description"></textarea>
                    </mat-form-field>
                </div>
                <div class="col-12">
                    <mat-form-field class="w-100" appearance="fill">
                        <mat-label>Choose a Start date</mat-label>
                        <input formControlName="start_date" matInput [matDatepicker]="picker">
                        <mat-hint>MM/DD/YYYY</mat-hint>
                        <mat-datepicker-toggle matIconSuffix [for]="picker">
                          <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                        </mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                </div>
                <div class="col-12">
                    <mat-form-field class="w-100" appearance="fill">
                      <mat-label>No. of Days</mat-label>
                      <input type="number" formControlName="duration" matInput placeholder="Placeholder">
                    </mat-form-field>
                </div>
                <div class="col-12">
                    <mat-form-field>
                        <mat-label>Select Color</mat-label>
                        <mat-select formControlName="color" name="food">
                          @for (color of utility.colors; track color) {
                            <mat-option [value]="color.hex">
                                <span class="square" [ngStyle]="{ 'background-color': color.hex }"></span> 
                                {{ color.text?.toUpperCase() }}
                            </mat-option>
                          }
                        </mat-select>
                      </mat-form-field>
                </div>
                <div class="col-12">
                    <mat-checkbox formControlName="readonly">Readonly</mat-checkbox>
                </div>
            </div>
        </form>
    </mat-dialog-content>
    <mat-dialog-actions [align]="'end'">
        <button (click)="onClickSaveTask()" color="accent" mat-raised-button>Save</button>
        <button mat-button mat-dialog-close>Close</button>
    </mat-dialog-actions>
</ng-template>